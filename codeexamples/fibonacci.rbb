# Fibonacci sequence
~:fib -> {
    !~fib_:[
        i -> 2,
        fnumbers -> |[ 0, 1, 1],
        fib_ -> ~fib_,
        n -> $
    ][]
}

~:fib -> {
    !~n < 2?~ {
        !~fnumbers (~n)
    } {
        !~i < (~n)?~ {
            ~:i -> i + 1
            ~fnumbers|[0, ~fnumbers 1]
            ~fnumbers|[1, ~fnumbers 2]
            ~fnumbers|[2, ~fnumbers 0 + (~fnumbers 1)]

            !~fib_~[]
        } {
            !~fnumbers 2
        }
    }
} 
